clc;clear all; close all;

%load('ligera')
%load('moderada')
%load('sinlluvias')
%1,0,0,
Vector_lluviaLigera=[
1,13,21,7,1.7,
2,14,20,8,2.6,
3,16,23,9,1.8,
3,15,22,9,1.6,
4,18,25,11,1.8,
4,17,24,10,1.7,
4,18,25,11,2.6,
4,18,25,12,2.4,
4,18,25,11,1.7,
4,18,25,11,2.3,
4,18,25,11,2.1,
4,18,25,11,2.1,
4,18,25,12,1.9,
4,18,25,12,1.6,
4,18,25,12,2.0,
4,17,25,11,2.6,
4,18,25,11,1.6,
5,18,25,11,2.4,
5,18,25,11,2.5,
5,18,25,12,3.0,
5,18,25,12,2.3,
5,18,25,12,3.1,
5,18,25,12,1.8,
5,18,25,12,2.4,
5,18,25,12,3.0,
5,18,25,12,2.4,
5,18,24,12,2.8,
5,18,24,12,4.0,
5,17,24,12,3.2,
5,17,23,11,2.4,
5,17,23,11,3.2,
5,17,24,11,2.3,
5,18,24,12,1.7,
5,17,24,11,1.8,
5,18,24,12,3.0,
5,18,24,12,3.0,
5,18,24,12,3.2,
5,18,25,12,3.6,
5,18,24,13,4.1,
5,18,24,12,4.0,
5,18,24,12,3.6,
5,18,24,12,4.1,
6,17,24,12,3.9,
6,17,23,12,3.9,
6,17,23,12,3.8,
6,17,24,12,4.0,
6,17,24,12,4.8,
]
%
Vector_lluviaModerada=[
5,18,24,12,5.2,
6,17,23,11,5.2,
6,17,23,12,5.0,
6,17,23,12,6.5,
6,17,23,12,7.1,
6,17,23,12,7.9,
6,17,23,12,8.3,
6,17,23,13,7.9,
6,17,23,12,6.6,
6,17,23,12,6.5,
6,17,22,12,7.8,
6,17,22,13,7.8,
6,17,22,12,9.5,
6,17,22,12,9.0,
6,16,22,12,11.3,
6,16,21,12,11.1,
6,16,21,12,11.6,
6,16,20,12,14.4,
6,16,21,12,11.2,
6,16,21,12,12.1,
6,16,21,12,13.7,
6,16,21,11,13.1,
6,16,21,11,9.0,
6,16,21,11,9.2,
6,16,21,12,9.2,
6,16,20,12,12.4,
7,16,20,12,13.0,
7,15,20,12,13.0,
7,15,20,11,14.3,
7,15,20,12,15.6,
7,15,20,12,12.7,
7,15,20,11,12.6,
7,15,21,11,12.9,
7,15,20,11,13.6,
7,15,21,11,9.3,
7,15,20,11,12.2,
7,15,20,11,12.2,
7,15,20,11,11.0,
7,15,20,11,13.4,
7,15,21,11,10.2,
7,16,21,11,13.1,
7,16,21,11,11.1,
7,16,21,12,10.1,
7,15,21,11,12.5,
7,15,21,11,10.9,
7,16,21,11,11.0,
7,16,21,11,11.1,
7,15,21,11,10.0,
7,15,21,11,10.4,
7,15,21,11,11.7,
7,16,21,11,8.9,
7,16,21,11,10.7,
7,16,21,11,10.7,
7,16,21,12,11.1,
7,16,21,11,10.8,
7,16,21,11,8.8,
7,16,21,11,8.7,
]

Vector_Sinlluvia=[
1,13,20,7,0.3,
1,12,19,7,0.4,
1,12,19,7,0.4,
1,13,20,7,0.4,
1,13,20,7,0.2,
1,13,20,7,0.2,
1,13,20,7,0.4,
1,12,19,7,0.8,
1,12,20,6,0.6,
1,12,20,6,0.6,
1,13,20,6,0.3,
1,13,20,7,0.7,
1,12,19,7,1.5,
1,12,19,7,0.8,
1,12,19,7,0.5,
1,12,19,7,1.0,
1,12,19,6,0.8,
1,12,19,5,0.9,
1,12,20,6,0.2,
1,13,20,6,0.1,
1,13,20,7,0.2,
1,13,21,7,0.3,
1,13,21,7,1.0,
1,13,20,7,0.6,
1,13,20,7,1.5,
1,13,20,7,1.1,
1,13,21,7,0.9,
1,13,21,7,0.4,
1,13,20,8,1.2,
1,13,20,7,0.8,
2,13,21,7,1.0,
2,14,21,8,0.7,
2,14,21,7,1.5,
2,13,20,7,1.5,
2,13,21,7,0.4,
2,14,21,8,0.6,
2,14,21,8,0.5,
2,14,21,8,0.8,
2,14,21,7,0.7,
2,14,21,8,0.6,
2,14,21,8,0.6,
2,13,21,7,0.5,
2,14,21,8,0.2,
2,15,22,8,0.2,
2,15,23,8,0.2,
2,15,23,9,0.4,
2,15,22,8,0.6,
2,15,23,9,0.3,
2,15,23,9,0.4,
2,15,23,9,0.2,
2,15,23,9,0.5,
2,15,23,8,0.5,
2,15,23,8,0.4,
2,15,23,9,0.6,
2,15,23,9,0.6,
2,15,23,8,0.9,
2,15,23,9,0.5,
3,15,23,9,0.7,
3,15,23,9,0.6,
3,16,23,9,0.7,
3,16,24,9,0.5,
3,15,23,9,0.5,
3,15,23,9,0.5,
3,16,23,9,0.4,
3,16,23,10,0.5,
3,16,24,10,0.8,
3,16,23,9,1.5,
3,16,23,9,0.8,
3,15,23,9,0.8,
3,16,23,9,0.8,
3,16,23,10,0.9,
3,16,23,10,0.3,
3,16,23,9,0.5,
3,16,24,9,0.5,
3,16,24,9,1.1,
3,16,23,9,0.6,
3,16,23,9,0.4,
3,16,24,9,0.2,
3,17,24,10,0.6,
3,17,24,10,1.0,
3,16,24,9,0.8,
3,16,24,9,0.9,
3,17,24,10,0.8,
3,17,24,10,0.5,
3,17,24,10,0.8,
3,17,24,10,1.0,
4,17,25,10,0.6,
4,17,24,10,0.5,
4,17,25,11,0.5,
4,18,25,11,0.7,
4,18,25,11,0.8,
4,18,25,11,0.9,
4,18,25,11,0.5,
4,18,25,11,1.1,
4,18,25,11,1.5,
4,18,25,11,1.4,
4,18,25,11,1.4,
4,18,25,11,1.2,
4,18,25,11,0.9,
4,17,24,11,0.9,
4,18,25,11,0.9,
4,18,26,11,1.3,
4,18,25,11,1.3,
5,18,25,11,1.5,
5,18,25,12,1.3,
5,18,24,12,0.9,
5,18,24,12,1.2,
5,18,24,12,1.4,
]
%crear los target

%for j=1:6
 %   T_ligera(:,j)=[1 0 0];
%end

%target
for j=1:47
  T_ligera(:,j)=[0 1 0];
end


for j=1:57
  T_Moderada(:,j)=[0 0 1];
end


for j=1:108
  T_Sinlluvia(:,j)=[1 0 0];
end


%entradas

input=[Vector_lluviaLigera' Vector_lluviaModerada' Vector_Sinlluvia'];
targets=[T_ligera T_Moderada T_Sinlluvia];

%red

red=patternnet(5,'trainlm');
red.trainParam.epochs=(1000);
red.trainParam.max_fail=100;
red.trainParam.min_grad=1e-29;
red.trainParam.mu=0.1;
red.trainParam.mu_dec=0.1;
red.trainParam.mu_inc=10;
configure(red,input,targets);
red.divideParam.trainRatio=90/100;
red.divideParam.valRatio=5/100;
red.divideParam.testRatio=5/100;
[red,tr]=train(red,input,targets);
